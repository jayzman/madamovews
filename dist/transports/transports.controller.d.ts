import { TransportsService } from "./transports.service";
import { CreateTransportDto } from "./dto/create-transport.dto";
import { CreateTransportMessageDto } from "./dto/create-transport-message.dto";
import { StatutTransport } from "@prisma/client";
export declare class TransportsController {
    private readonly transportsService;
    constructor(transportsService: TransportsService);
    findAll(skip?: string, take?: string, status?: StatutTransport, chauffeurId?: string, clientId?: string, vehiculeId?: string, dateDebut?: string, dateFin?: string): Promise<{
        items: ({
            chauffeur: {
                email: string;
                nom: string;
                prenom: string;
                id: number;
                telephone: string;
                photoUrl: string;
            };
            vehicule: {
                type: import(".prisma/client").$Enums.TypeVehicule;
                id: number;
                immatriculation: string;
                marque: string;
                modele: string;
                categorie: import(".prisma/client").$Enums.CategoryVehicule;
            };
            client: {
                email: string;
                nom: string;
                prenom: string;
                id: number;
                telephone: string;
            };
        } & {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            vehiculeId: number;
            evaluation: number | null;
            chauffeurId: number | null;
            clientId: number;
            paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
            status: import(".prisma/client").$Enums.StatutTransport;
            departLatitude: number;
            departLongitude: number;
            destinationLatitude: number;
            destinationLongitude: number;
            dateReservation: Date;
            adresseDepart: string;
            adresseDestination: string;
            distanceEstimee: number;
            dureeEstimee: number;
            montantEstime: number;
            montantFinal: number | null;
            heureDepart: Date | null;
            heureArrivee: Date | null;
            dureeReelle: number | null;
            distanceReelle: number | null;
            tarifHoraireApplique: number | null;
            stripePaymentIntentId: string | null;
            commentaire: string | null;
            positionActuelle: import("@prisma/client/runtime/library").JsonValue | null;
            cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
            cashAmountReceived: number | null;
            cashConfirmedAt: Date | null;
            cashConfirmedBy: number | null;
            promoCodeId: number | null;
            montantReduction: number;
        })[];
        meta: {
            total: number;
            skip: number;
            take: number;
        };
    }>;
    findOne(id: string): Promise<{
        chauffeur: {
            email: string;
            password: string | null;
            nom: string;
            prenom: string;
            id: number;
            createdAt: Date;
            updatedAt: Date;
            telephone: string;
            statut: import(".prisma/client").$Enums.StatutChauffeur;
            statutActivite: import(".prisma/client").$Enums.StatutActivite;
            vehiculeId: number | null;
            photoUrl: string | null;
            dateInscription: Date;
            evaluation: number;
            nbCourses: number;
            resetCode: string | null;
            resetCodeExpiry: Date | null;
            smsOtp: string | null;
            smsOtpExpiry: Date | null;
            phoneVerified: boolean | null;
        };
        vehicule: {
            type: import(".prisma/client").$Enums.TypeVehicule;
            id: number;
            createdAt: Date;
            updatedAt: Date;
            statut: import(".prisma/client").$Enums.StatutVehicule;
            immatriculation: string;
            marque: string;
            modele: string;
            categorie: import(".prisma/client").$Enums.CategoryVehicule;
            tarifHoraire: number | null;
            tarifJournalier: number | null;
            maxPower: number | null;
            fuelConsumption: number | null;
            maxSpeed: number | null;
            acceleration: number | null;
            capacity: number | null;
            color: string | null;
            fuelType: import(".prisma/client").$Enums.FuelType | null;
            gearType: import(".prisma/client").$Enums.GearType | null;
            dateAcquisition: Date;
            kilometrage: number;
            photos: string[];
            dateControleTechnique: Date;
        };
        client: {
            email: string;
            password: string | null;
            nom: string;
            prenom: string;
            id: number;
            createdAt: Date;
            updatedAt: Date;
            telephone: string;
            statut: import(".prisma/client").$Enums.StatutClient;
            photoUrl: string | null;
            dateInscription: Date | null;
            nbCourses: number | null;
            resetCode: string | null;
            smsOtp: string | null;
            smsOtpExpiry: Date | null;
            phoneVerified: boolean | null;
            adresse: string | null;
            ville: string | null;
            preferences: string | null;
            profileUrl: string | null;
            verified: boolean | null;
            validationCode: string | null;
            resetCodeExpires: Date | null;
            stripeCustomerId: string | null;
        };
        Message: ({
            chauffeur: {
                nom: string;
                prenom: string;
                id: number;
                photoUrl: string;
            };
            client: {
                nom: string;
                prenom: string;
                id: number;
            };
        } & {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            chauffeurId: number | null;
            clientId: number | null;
            transportId: number | null;
            courseId: number | null;
            lu: boolean;
            contenu: string;
            reservationId: number | null;
            expediteurType: import(".prisma/client").$Enums.TypeExpediteur;
        })[];
    } & {
        id: number;
        createdAt: Date;
        updatedAt: Date;
        vehiculeId: number;
        evaluation: number | null;
        chauffeurId: number | null;
        clientId: number;
        paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
        status: import(".prisma/client").$Enums.StatutTransport;
        departLatitude: number;
        departLongitude: number;
        destinationLatitude: number;
        destinationLongitude: number;
        dateReservation: Date;
        adresseDepart: string;
        adresseDestination: string;
        distanceEstimee: number;
        dureeEstimee: number;
        montantEstime: number;
        montantFinal: number | null;
        heureDepart: Date | null;
        heureArrivee: Date | null;
        dureeReelle: number | null;
        distanceReelle: number | null;
        tarifHoraireApplique: number | null;
        stripePaymentIntentId: string | null;
        commentaire: string | null;
        positionActuelle: import("@prisma/client/runtime/library").JsonValue | null;
        cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
        cashAmountReceived: number | null;
        cashConfirmedAt: Date | null;
        cashConfirmedBy: number | null;
        promoCodeId: number | null;
        montantReduction: number;
    }>;
    create(createTransportDto: CreateTransportDto): Promise<{
        transport: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            vehiculeId: number;
            evaluation: number | null;
            chauffeurId: number | null;
            clientId: number;
            paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
            status: import(".prisma/client").$Enums.StatutTransport;
            departLatitude: number;
            departLongitude: number;
            destinationLatitude: number;
            destinationLongitude: number;
            dateReservation: Date;
            adresseDepart: string;
            adresseDestination: string;
            distanceEstimee: number;
            dureeEstimee: number;
            montantEstime: number;
            montantFinal: number | null;
            heureDepart: Date | null;
            heureArrivee: Date | null;
            dureeReelle: number | null;
            distanceReelle: number | null;
            tarifHoraireApplique: number | null;
            stripePaymentIntentId: string | null;
            commentaire: string | null;
            positionActuelle: import("@prisma/client/runtime/library").JsonValue | null;
            cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
            cashAmountReceived: number | null;
            cashConfirmedAt: Date | null;
            cashConfirmedBy: number | null;
            promoCodeId: number | null;
            montantReduction: number;
            client: {
                email: string;
                password: string | null;
                nom: string;
                prenom: string;
                id: number;
                createdAt: Date;
                updatedAt: Date;
                telephone: string;
                statut: import(".prisma/client").$Enums.StatutClient;
                photoUrl: string | null;
                dateInscription: Date | null;
                nbCourses: number | null;
                resetCode: string | null;
                smsOtp: string | null;
                smsOtpExpiry: Date | null;
                phoneVerified: boolean | null;
                adresse: string | null;
                ville: string | null;
                preferences: string | null;
                profileUrl: string | null;
                verified: boolean | null;
                validationCode: string | null;
                resetCodeExpires: Date | null;
                stripeCustomerId: string | null;
            };
            vehicule: {
                chauffeurs: {
                    email: string;
                    password: string | null;
                    nom: string;
                    prenom: string;
                    id: number;
                    createdAt: Date;
                    updatedAt: Date;
                    telephone: string;
                    statut: import(".prisma/client").$Enums.StatutChauffeur;
                    statutActivite: import(".prisma/client").$Enums.StatutActivite;
                    vehiculeId: number | null;
                    photoUrl: string | null;
                    dateInscription: Date;
                    evaluation: number;
                    nbCourses: number;
                    resetCode: string | null;
                    resetCodeExpiry: Date | null;
                    smsOtp: string | null;
                    smsOtpExpiry: Date | null;
                    phoneVerified: boolean | null;
                }[];
            } & {
                type: import(".prisma/client").$Enums.TypeVehicule;
                id: number;
                createdAt: Date;
                updatedAt: Date;
                statut: import(".prisma/client").$Enums.StatutVehicule;
                immatriculation: string;
                marque: string;
                modele: string;
                categorie: import(".prisma/client").$Enums.CategoryVehicule;
                tarifHoraire: number | null;
                tarifJournalier: number | null;
                maxPower: number | null;
                fuelConsumption: number | null;
                maxSpeed: number | null;
                acceleration: number | null;
                capacity: number | null;
                color: string | null;
                fuelType: import(".prisma/client").$Enums.FuelType | null;
                gearType: import(".prisma/client").$Enums.GearType | null;
                dateAcquisition: Date;
                kilometrage: number;
                photos: string[];
                dateControleTechnique: Date;
            };
        };
        paymentMethod: import("./dto/create-transport.dto").PaymentMethod.STRIPE;
        setupUrl: string;
        sessionId: string;
        message?: undefined;
    } | {
        transport: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            vehiculeId: number;
            evaluation: number | null;
            chauffeurId: number | null;
            clientId: number;
            paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
            status: import(".prisma/client").$Enums.StatutTransport;
            departLatitude: number;
            departLongitude: number;
            destinationLatitude: number;
            destinationLongitude: number;
            dateReservation: Date;
            adresseDepart: string;
            adresseDestination: string;
            distanceEstimee: number;
            dureeEstimee: number;
            montantEstime: number;
            montantFinal: number | null;
            heureDepart: Date | null;
            heureArrivee: Date | null;
            dureeReelle: number | null;
            distanceReelle: number | null;
            tarifHoraireApplique: number | null;
            stripePaymentIntentId: string | null;
            commentaire: string | null;
            positionActuelle: import("@prisma/client/runtime/library").JsonValue | null;
            cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
            cashAmountReceived: number | null;
            cashConfirmedAt: Date | null;
            cashConfirmedBy: number | null;
            promoCodeId: number | null;
            montantReduction: number;
        };
        paymentMethod: import("./dto/create-transport.dto").PaymentMethod.CASH;
        message: string;
        setupUrl?: undefined;
        sessionId?: undefined;
    }>;
    validerTransport(id: string, chauffeurId: string): Promise<{
        id: number;
        createdAt: Date;
        updatedAt: Date;
        vehiculeId: number;
        evaluation: number | null;
        chauffeurId: number | null;
        clientId: number;
        paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
        status: import(".prisma/client").$Enums.StatutTransport;
        departLatitude: number;
        departLongitude: number;
        destinationLatitude: number;
        destinationLongitude: number;
        dateReservation: Date;
        adresseDepart: string;
        adresseDestination: string;
        distanceEstimee: number;
        dureeEstimee: number;
        montantEstime: number;
        montantFinal: number | null;
        heureDepart: Date | null;
        heureArrivee: Date | null;
        dureeReelle: number | null;
        distanceReelle: number | null;
        tarifHoraireApplique: number | null;
        stripePaymentIntentId: string | null;
        commentaire: string | null;
        positionActuelle: import("@prisma/client/runtime/library").JsonValue | null;
        cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
        cashAmountReceived: number | null;
        cashConfirmedAt: Date | null;
        cashConfirmedBy: number | null;
        promoCodeId: number | null;
        montantReduction: number;
    }>;
    updatePosition(id: string, position: {
        latitude: number;
        longitude: number;
        statusInfo?: string;
    }): Promise<{
        transport: {
            chauffeur: {
                email: string;
                password: string | null;
                nom: string;
                prenom: string;
                id: number;
                createdAt: Date;
                updatedAt: Date;
                telephone: string;
                statut: import(".prisma/client").$Enums.StatutChauffeur;
                statutActivite: import(".prisma/client").$Enums.StatutActivite;
                vehiculeId: number | null;
                photoUrl: string | null;
                dateInscription: Date;
                evaluation: number;
                nbCourses: number;
                resetCode: string | null;
                resetCodeExpiry: Date | null;
                smsOtp: string | null;
                smsOtpExpiry: Date | null;
                phoneVerified: boolean | null;
            };
            client: {
                email: string;
                password: string | null;
                nom: string;
                prenom: string;
                id: number;
                createdAt: Date;
                updatedAt: Date;
                telephone: string;
                statut: import(".prisma/client").$Enums.StatutClient;
                photoUrl: string | null;
                dateInscription: Date | null;
                nbCourses: number | null;
                resetCode: string | null;
                smsOtp: string | null;
                smsOtpExpiry: Date | null;
                phoneVerified: boolean | null;
                adresse: string | null;
                ville: string | null;
                preferences: string | null;
                profileUrl: string | null;
                verified: boolean | null;
                validationCode: string | null;
                resetCodeExpires: Date | null;
                stripeCustomerId: string | null;
            };
        } & {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            vehiculeId: number;
            evaluation: number | null;
            chauffeurId: number | null;
            clientId: number;
            paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
            status: import(".prisma/client").$Enums.StatutTransport;
            departLatitude: number;
            departLongitude: number;
            destinationLatitude: number;
            destinationLongitude: number;
            dateReservation: Date;
            adresseDepart: string;
            adresseDestination: string;
            distanceEstimee: number;
            dureeEstimee: number;
            montantEstime: number;
            montantFinal: number | null;
            heureDepart: Date | null;
            heureArrivee: Date | null;
            dureeReelle: number | null;
            distanceReelle: number | null;
            tarifHoraireApplique: number | null;
            stripePaymentIntentId: string | null;
            commentaire: string | null;
            positionActuelle: import("@prisma/client/runtime/library").JsonValue | null;
            cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
            cashAmountReceived: number | null;
            cashConfirmedAt: Date | null;
            cashConfirmedBy: number | null;
            promoCodeId: number | null;
            montantReduction: number;
        };
        position: {
            lat: number;
            lng: number;
        };
        timestamp: Date;
        message: string;
    }>;
    getCurrentPosition(id: string): Promise<{
        transportId: number;
        position: import("@prisma/client/runtime/library").JsonValue;
        status: import(".prisma/client").$Enums.StatutTransport;
        chauffeur: {
            nom: string;
            prenom: string;
            id: number;
        };
        lastUpdate: Date;
    }>;
    getPositionHistory(id: string, limit?: string): Promise<{
        transportId: number;
        positions: {
            position: string | number | true | import("@prisma/client/runtime/library").JsonObject | import("@prisma/client/runtime/library").JsonArray;
            timestamp: Date;
            status: import(".prisma/client").$Enums.StatutTransport;
        }[];
        message: string;
    }>;
    startAutomaticTracking(id: string): Promise<{
        message: string;
        transportId: number;
        interval: number;
        timestamp: Date;
    }>;
    stopAutomaticTracking(id: string): Promise<{
        message: string;
        transportId: number;
        timestamp: Date;
    }>;
    trackTransportRealTime(id: string, chauffeurId: string): Promise<{
        transportId: number;
        isTrackingEnabled: boolean;
        currentPosition: import("@prisma/client/runtime/library").JsonValue;
        status: import(".prisma/client").$Enums.StatutTransport;
        client: {
            nom: string;
            prenom: string;
        };
        websocketNamespace: string;
        message: string;
    }>;
    getTrackingStatistics(): Promise<{
        trackingStats: {
            activeTrackings: number;
            trackedTransports: number[];
            lastPositions: {
                [k: string]: {
                    lat: number;
                    lng: number;
                    timestamp: Date;
                };
            };
        };
        activeTransports: number;
        transportsDetails: {
            chauffeur: {
                nom: string;
                prenom: string;
                id: number;
            };
            client: {
                nom: string;
                prenom: string;
                id: number;
            };
            id: number;
            updatedAt: Date;
            status: import(".prisma/client").$Enums.StatutTransport;
            positionActuelle: import("@prisma/client/runtime/library").JsonValue;
        }[];
        timestamp: Date;
    }>;
    updateStatus(id: string, data: {
        status: StatutTransport;
    }): Promise<{
        id: number;
        createdAt: Date;
        updatedAt: Date;
        vehiculeId: number;
        evaluation: number | null;
        chauffeurId: number | null;
        clientId: number;
        paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
        status: import(".prisma/client").$Enums.StatutTransport;
        departLatitude: number;
        departLongitude: number;
        destinationLatitude: number;
        destinationLongitude: number;
        dateReservation: Date;
        adresseDepart: string;
        adresseDestination: string;
        distanceEstimee: number;
        dureeEstimee: number;
        montantEstime: number;
        montantFinal: number | null;
        heureDepart: Date | null;
        heureArrivee: Date | null;
        dureeReelle: number | null;
        distanceReelle: number | null;
        tarifHoraireApplique: number | null;
        stripePaymentIntentId: string | null;
        commentaire: string | null;
        positionActuelle: import("@prisma/client/runtime/library").JsonValue | null;
        cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
        cashAmountReceived: number | null;
        cashConfirmedAt: Date | null;
        cashConfirmedBy: number | null;
        promoCodeId: number | null;
        montantReduction: number;
    }>;
    evaluerTransport(id: string, data: {
        evaluation: number;
        commentaire?: string;
    }): Promise<{
        id: number;
        createdAt: Date;
        updatedAt: Date;
        vehiculeId: number;
        evaluation: number | null;
        chauffeurId: number | null;
        clientId: number;
        paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
        status: import(".prisma/client").$Enums.StatutTransport;
        departLatitude: number;
        departLongitude: number;
        destinationLatitude: number;
        destinationLongitude: number;
        dateReservation: Date;
        adresseDepart: string;
        adresseDestination: string;
        distanceEstimee: number;
        dureeEstimee: number;
        montantEstime: number;
        montantFinal: number | null;
        heureDepart: Date | null;
        heureArrivee: Date | null;
        dureeReelle: number | null;
        distanceReelle: number | null;
        tarifHoraireApplique: number | null;
        stripePaymentIntentId: string | null;
        commentaire: string | null;
        positionActuelle: import("@prisma/client/runtime/library").JsonValue | null;
        cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
        cashAmountReceived: number | null;
        cashConfirmedAt: Date | null;
        cashConfirmedBy: number | null;
        promoCodeId: number | null;
        montantReduction: number;
    }>;
    confirmPayment(id: string): Promise<{
        message: string;
        status: string;
    }>;
    finalizeTransportAfterPaymentSetup(data: {
        transportId: number;
        sessionId: string;
    }): Promise<{
        transport: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            vehiculeId: number;
            evaluation: number | null;
            chauffeurId: number | null;
            clientId: number;
            paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
            status: import(".prisma/client").$Enums.StatutTransport;
            departLatitude: number;
            departLongitude: number;
            destinationLatitude: number;
            destinationLongitude: number;
            dateReservation: Date;
            adresseDepart: string;
            adresseDestination: string;
            distanceEstimee: number;
            dureeEstimee: number;
            montantEstime: number;
            montantFinal: number | null;
            heureDepart: Date | null;
            heureArrivee: Date | null;
            dureeReelle: number | null;
            distanceReelle: number | null;
            tarifHoraireApplique: number | null;
            stripePaymentIntentId: string | null;
            commentaire: string | null;
            positionActuelle: import("@prisma/client/runtime/library").JsonValue | null;
            cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
            cashAmountReceived: number | null;
            cashConfirmedAt: Date | null;
            cashConfirmedBy: number | null;
            promoCodeId: number | null;
            montantReduction: number;
        };
        paymentStatus: import("stripe").Stripe.PaymentIntent.Status;
    }>;
    startTransport(id: string): Promise<{
        id: number;
        createdAt: Date;
        updatedAt: Date;
        vehiculeId: number;
        evaluation: number | null;
        chauffeurId: number | null;
        clientId: number;
        paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
        status: import(".prisma/client").$Enums.StatutTransport;
        departLatitude: number;
        departLongitude: number;
        destinationLatitude: number;
        destinationLongitude: number;
        dateReservation: Date;
        adresseDepart: string;
        adresseDestination: string;
        distanceEstimee: number;
        dureeEstimee: number;
        montantEstime: number;
        montantFinal: number | null;
        heureDepart: Date | null;
        heureArrivee: Date | null;
        dureeReelle: number | null;
        distanceReelle: number | null;
        tarifHoraireApplique: number | null;
        stripePaymentIntentId: string | null;
        commentaire: string | null;
        positionActuelle: import("@prisma/client/runtime/library").JsonValue | null;
        cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
        cashAmountReceived: number | null;
        cashConfirmedAt: Date | null;
        cashConfirmedBy: number | null;
        promoCodeId: number | null;
        montantReduction: number;
    }>;
    endTransport(id: string): Promise<{
        id: number;
        createdAt: Date;
        updatedAt: Date;
        vehiculeId: number;
        evaluation: number | null;
        chauffeurId: number | null;
        clientId: number;
        paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
        status: import(".prisma/client").$Enums.StatutTransport;
        departLatitude: number;
        departLongitude: number;
        destinationLatitude: number;
        destinationLongitude: number;
        dateReservation: Date;
        adresseDepart: string;
        adresseDestination: string;
        distanceEstimee: number;
        dureeEstimee: number;
        montantEstime: number;
        montantFinal: number | null;
        heureDepart: Date | null;
        heureArrivee: Date | null;
        dureeReelle: number | null;
        distanceReelle: number | null;
        tarifHoraireApplique: number | null;
        stripePaymentIntentId: string | null;
        commentaire: string | null;
        positionActuelle: import("@prisma/client/runtime/library").JsonValue | null;
        cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
        cashAmountReceived: number | null;
        cashConfirmedAt: Date | null;
        cashConfirmedBy: number | null;
        promoCodeId: number | null;
        montantReduction: number;
    }>;
    createTransportMessage(id: string, data: CreateTransportMessageDto): Promise<{
        chauffeur: {
            nom: string;
            prenom: string;
            id: number;
            photoUrl: string;
        };
        client: {
            nom: string;
            prenom: string;
            id: number;
            photoUrl: string;
        };
        transport: {
            id: number;
            status: import(".prisma/client").$Enums.StatutTransport;
            adresseDepart: string;
            adresseDestination: string;
        };
    } & {
        id: number;
        createdAt: Date;
        updatedAt: Date;
        chauffeurId: number | null;
        clientId: number | null;
        transportId: number | null;
        courseId: number | null;
        lu: boolean;
        contenu: string;
        reservationId: number | null;
        expediteurType: import(".prisma/client").$Enums.TypeExpediteur;
    }>;
    getTransportMessages(id: string, userId: string, userType: "CLIENT" | "CHAUFFEUR", skip?: string, take?: string): Promise<{
        messages: ({
            chauffeur: {
                nom: string;
                prenom: string;
                id: number;
                photoUrl: string;
            };
            client: {
                nom: string;
                prenom: string;
                id: number;
                photoUrl: string;
            };
        } & {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            chauffeurId: number | null;
            clientId: number | null;
            transportId: number | null;
            courseId: number | null;
            lu: boolean;
            contenu: string;
            reservationId: number | null;
            expediteurType: import(".prisma/client").$Enums.TypeExpediteur;
        })[];
        transport: {
            id: number;
            adresseDepart: string;
            adresseDestination: string;
            status: import(".prisma/client").$Enums.StatutTransport;
            client: {
                email: string;
                password: string | null;
                nom: string;
                prenom: string;
                id: number;
                createdAt: Date;
                updatedAt: Date;
                telephone: string;
                statut: import(".prisma/client").$Enums.StatutClient;
                photoUrl: string | null;
                dateInscription: Date | null;
                nbCourses: number | null;
                resetCode: string | null;
                smsOtp: string | null;
                smsOtpExpiry: Date | null;
                phoneVerified: boolean | null;
                adresse: string | null;
                ville: string | null;
                preferences: string | null;
                profileUrl: string | null;
                verified: boolean | null;
                validationCode: string | null;
                resetCodeExpires: Date | null;
                stripeCustomerId: string | null;
            };
            chauffeur: {
                email: string;
                password: string | null;
                nom: string;
                prenom: string;
                id: number;
                createdAt: Date;
                updatedAt: Date;
                telephone: string;
                statut: import(".prisma/client").$Enums.StatutChauffeur;
                statutActivite: import(".prisma/client").$Enums.StatutActivite;
                vehiculeId: number | null;
                photoUrl: string | null;
                dateInscription: Date;
                evaluation: number;
                nbCourses: number;
                resetCode: string | null;
                resetCodeExpiry: Date | null;
                smsOtp: string | null;
                smsOtpExpiry: Date | null;
                phoneVerified: boolean | null;
            };
        };
        pagination: {
            skip: number;
            take: number;
            total: number;
        };
    }>;
    getTransportUnreadCount(id: string, userId: string, userType: "CLIENT" | "CHAUFFEUR"): Promise<{
        count: number;
        transportId: number;
    }>;
    markAllMessagesAsRead(id: string, userId: string, userType: "CLIENT" | "CHAUFFEUR"): Promise<{
        success: boolean;
        message: string;
    }>;
    getTransportConversations(userId: string, userType: "CLIENT" | "CHAUFFEUR"): Promise<{
        id: number;
        adresseDepart: string;
        adresseDestination: string;
        status: import(".prisma/client").$Enums.StatutTransport;
        dateReservation: Date;
        client: {
            nom: string;
            prenom: string;
            id: number;
        };
        chauffeur: {
            nom: string;
            prenom: string;
            id: number;
        };
        lastMessage: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            lu: boolean;
            contenu: string;
            expediteurType: import(".prisma/client").$Enums.TypeExpediteur;
        };
        unreadCount: number;
        hasMessages: boolean;
        lastActivity: Date;
    }[]>;
    getTotalUnreadMessagesCount(userId: string, userType: "CLIENT" | "CHAUFFEUR"): Promise<{
        count: number;
    }>;
    sendQuickMessage(id: string, data: {
        expediteurType: "CLIENT" | "CHAUFFEUR";
        expediteurId: number;
        messageType: "ARRIVED" | "DELAYED" | "STARTED" | "FINISHED";
    }): Promise<{
        chauffeur: {
            nom: string;
            prenom: string;
            id: number;
            photoUrl: string;
        };
        client: {
            nom: string;
            prenom: string;
            id: number;
            photoUrl: string;
        };
        transport: {
            id: number;
            status: import(".prisma/client").$Enums.StatutTransport;
            adresseDepart: string;
            adresseDestination: string;
        };
    } & {
        id: number;
        createdAt: Date;
        updatedAt: Date;
        chauffeurId: number | null;
        clientId: number | null;
        transportId: number | null;
        courseId: number | null;
        lu: boolean;
        contenu: string;
        reservationId: number | null;
        expediteurType: import(".prisma/client").$Enums.TypeExpediteur;
    }>;
    getTransportWithMessages(id: string): Promise<{
        chauffeur: {
            email: string;
            password: string | null;
            nom: string;
            prenom: string;
            id: number;
            createdAt: Date;
            updatedAt: Date;
            telephone: string;
            statut: import(".prisma/client").$Enums.StatutChauffeur;
            statutActivite: import(".prisma/client").$Enums.StatutActivite;
            vehiculeId: number | null;
            photoUrl: string | null;
            dateInscription: Date;
            evaluation: number;
            nbCourses: number;
            resetCode: string | null;
            resetCodeExpiry: Date | null;
            smsOtp: string | null;
            smsOtpExpiry: Date | null;
            phoneVerified: boolean | null;
        };
        vehicule: {
            type: import(".prisma/client").$Enums.TypeVehicule;
            id: number;
            createdAt: Date;
            updatedAt: Date;
            statut: import(".prisma/client").$Enums.StatutVehicule;
            immatriculation: string;
            marque: string;
            modele: string;
            categorie: import(".prisma/client").$Enums.CategoryVehicule;
            tarifHoraire: number | null;
            tarifJournalier: number | null;
            maxPower: number | null;
            fuelConsumption: number | null;
            maxSpeed: number | null;
            acceleration: number | null;
            capacity: number | null;
            color: string | null;
            fuelType: import(".prisma/client").$Enums.FuelType | null;
            gearType: import(".prisma/client").$Enums.GearType | null;
            dateAcquisition: Date;
            kilometrage: number;
            photos: string[];
            dateControleTechnique: Date;
        };
        client: {
            email: string;
            password: string | null;
            nom: string;
            prenom: string;
            id: number;
            createdAt: Date;
            updatedAt: Date;
            telephone: string;
            statut: import(".prisma/client").$Enums.StatutClient;
            photoUrl: string | null;
            dateInscription: Date | null;
            nbCourses: number | null;
            resetCode: string | null;
            smsOtp: string | null;
            smsOtpExpiry: Date | null;
            phoneVerified: boolean | null;
            adresse: string | null;
            ville: string | null;
            preferences: string | null;
            profileUrl: string | null;
            verified: boolean | null;
            validationCode: string | null;
            resetCodeExpires: Date | null;
            stripeCustomerId: string | null;
        };
        Message: ({
            chauffeur: {
                nom: string;
                prenom: string;
                id: number;
                photoUrl: string;
            };
            client: {
                nom: string;
                prenom: string;
                id: number;
            };
        } & {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            chauffeurId: number | null;
            clientId: number | null;
            transportId: number | null;
            courseId: number | null;
            lu: boolean;
            contenu: string;
            reservationId: number | null;
            expediteurType: import(".prisma/client").$Enums.TypeExpediteur;
        })[];
    } & {
        id: number;
        createdAt: Date;
        updatedAt: Date;
        vehiculeId: number;
        evaluation: number | null;
        chauffeurId: number | null;
        clientId: number;
        paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
        status: import(".prisma/client").$Enums.StatutTransport;
        departLatitude: number;
        departLongitude: number;
        destinationLatitude: number;
        destinationLongitude: number;
        dateReservation: Date;
        adresseDepart: string;
        adresseDestination: string;
        distanceEstimee: number;
        dureeEstimee: number;
        montantEstime: number;
        montantFinal: number | null;
        heureDepart: Date | null;
        heureArrivee: Date | null;
        dureeReelle: number | null;
        distanceReelle: number | null;
        tarifHoraireApplique: number | null;
        stripePaymentIntentId: string | null;
        commentaire: string | null;
        positionActuelle: import("@prisma/client/runtime/library").JsonValue | null;
        cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
        cashAmountReceived: number | null;
        cashConfirmedAt: Date | null;
        cashConfirmedBy: number | null;
        promoCodeId: number | null;
        montantReduction: number;
    }>;
    confirmCashPayment(id: string, data: {
        chauffeurId: number;
        montantRecu: number;
    }): Promise<{
        transport: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            vehiculeId: number;
            evaluation: number | null;
            chauffeurId: number | null;
            clientId: number;
            paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
            status: import(".prisma/client").$Enums.StatutTransport;
            departLatitude: number;
            departLongitude: number;
            destinationLatitude: number;
            destinationLongitude: number;
            dateReservation: Date;
            adresseDepart: string;
            adresseDestination: string;
            distanceEstimee: number;
            dureeEstimee: number;
            montantEstime: number;
            montantFinal: number | null;
            heureDepart: Date | null;
            heureArrivee: Date | null;
            dureeReelle: number | null;
            distanceReelle: number | null;
            tarifHoraireApplique: number | null;
            stripePaymentIntentId: string | null;
            commentaire: string | null;
            positionActuelle: import("@prisma/client/runtime/library").JsonValue | null;
            cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
            cashAmountReceived: number | null;
            cashConfirmedAt: Date | null;
            cashConfirmedBy: number | null;
            promoCodeId: number | null;
            montantReduction: number;
        };
        paymentMethod: import("./dto/create-transport.dto").PaymentMethod;
        montantRecu: number;
        message: string;
    }>;
    validatePromoCode(data: {
        code: string;
        montantCourse: number;
    }): Promise<{
        valid: boolean;
        promoCode: {
            id: any;
            code: any;
            typeReduction: any;
            valeurReduction: any;
        };
        montantOriginal: number;
        montantReduction: number;
        montantFinal: number;
    }>;
}
