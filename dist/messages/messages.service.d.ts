import { PrismaService } from '../prisma/prisma.service';
import { CreateMessageDto } from './dto/create-message.dto';
import { UpdateMessageDto } from './dto/update-message.dto';
import { Prisma } from '@prisma/client';
import { NotificationsService } from '../notifications/notifications.service';
export declare class MessagesService {
    private readonly prisma;
    private readonly notificationsService;
    constructor(prisma: PrismaService, notificationsService: NotificationsService);
    create(createMessageDto: CreateMessageDto): Promise<{
        chauffeur: {
            email: string;
            password: string | null;
            nom: string;
            prenom: string;
            id: number;
            createdAt: Date;
            updatedAt: Date;
            telephone: string;
            statut: import(".prisma/client").$Enums.StatutChauffeur;
            statutActivite: import(".prisma/client").$Enums.StatutActivite;
            vehiculeId: number | null;
            photoUrl: string | null;
            dateInscription: Date;
            evaluation: number;
            nbCourses: number;
            resetCode: string | null;
            resetCodeExpiry: Date | null;
            smsOtp: string | null;
            smsOtpExpiry: Date | null;
            phoneVerified: boolean | null;
        };
        client: {
            email: string;
            password: string | null;
            nom: string;
            prenom: string;
            id: number;
            createdAt: Date;
            updatedAt: Date;
            telephone: string;
            statut: import(".prisma/client").$Enums.StatutClient;
            photoUrl: string | null;
            dateInscription: Date | null;
            nbCourses: number | null;
            resetCode: string | null;
            smsOtp: string | null;
            smsOtpExpiry: Date | null;
            phoneVerified: boolean | null;
            adresse: string | null;
            ville: string | null;
            preferences: string | null;
            profileUrl: string | null;
            verified: boolean | null;
            validationCode: string | null;
            resetCodeExpires: Date | null;
            stripeCustomerId: string | null;
        };
        course: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            chauffeurId: number | null;
            startTime: Date | null;
            clientId: number | null;
            startLocation: string;
            endLocation: string;
            endTime: Date | null;
            estimatedDuration: string;
            currentLocation: string | null;
            estimatedPrice: number;
            finalPrice: number | null;
            paymentMethod: string;
            status: import(".prisma/client").$Enums.StatutCourse;
            typeService: import(".prisma/client").$Enums.TypeService;
            locationId: number | null;
            transportId: number | null;
        };
        transport: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            vehiculeId: number;
            evaluation: number | null;
            chauffeurId: number | null;
            clientId: number;
            paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
            status: import(".prisma/client").$Enums.StatutTransport;
            departLatitude: number;
            departLongitude: number;
            destinationLatitude: number;
            destinationLongitude: number;
            dateReservation: Date;
            adresseDepart: string;
            adresseDestination: string;
            distanceEstimee: number;
            dureeEstimee: number;
            montantEstime: number;
            montantFinal: number | null;
            heureDepart: Date | null;
            heureArrivee: Date | null;
            dureeReelle: number | null;
            distanceReelle: number | null;
            tarifHoraireApplique: number | null;
            stripePaymentIntentId: string | null;
            commentaire: string | null;
            positionActuelle: Prisma.JsonValue | null;
            cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
            cashAmountReceived: number | null;
            cashConfirmedAt: Date | null;
            cashConfirmedBy: number | null;
            promoCodeId: number | null;
            montantReduction: number;
        };
        reservation: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            vehiculeId: number;
            clientId: number;
            status: import(".prisma/client").$Enums.StatutLocation;
            dateDebut: Date;
            dateFin: Date;
            stripeCustomerId: string | null;
            lieuDepart: string | null;
            lieuDestination: string | null;
            departLatitude: number | null;
            departLongitude: number | null;
            destinationLatitude: number | null;
            destinationLongitude: number | null;
            distance: number | null;
            montantTotal: number;
            stripePaymentId: string | null;
            stripeSessionId: string | null;
        };
    } & {
        id: number;
        createdAt: Date;
        updatedAt: Date;
        chauffeurId: number | null;
        clientId: number | null;
        transportId: number | null;
        courseId: number | null;
        lu: boolean;
        contenu: string;
        reservationId: number | null;
        expediteurType: import(".prisma/client").$Enums.TypeExpediteur;
    }>;
    findAllForConversation(params: {
        clientId?: number;
        chauffeurId?: number;
        reservationId?: number;
        courseId?: number;
        transportId?: number;
        skip?: number;
        take?: number;
    }): Promise<{
        items: ({
            chauffeur: {
                nom: string;
                prenom: string;
                id: number;
                photoUrl: string;
            };
            client: {
                nom: string;
                prenom: string;
                id: number;
                profileUrl: string;
            };
        } & {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            chauffeurId: number | null;
            clientId: number | null;
            transportId: number | null;
            courseId: number | null;
            lu: boolean;
            contenu: string;
            reservationId: number | null;
            expediteurType: import(".prisma/client").$Enums.TypeExpediteur;
        })[];
        meta: {
            total: number;
            skip: number;
            take: number;
        };
    }>;
    getConversationsForClient(clientId: number): Promise<{
        transports: {
            type: string;
            id: number;
            trajet: string;
            chauffeur: {
                id: number;
                nom: string;
                photoUrl: string;
            };
            date: Date;
            status: import(".prisma/client").$Enums.StatutTransport;
            messageCount: number;
        }[];
    }>;
    getConversationsForChauffeur(chauffeurId: number): Promise<{
        transports: {
            type: string;
            id: number;
            trajet: string;
            client: {
                id: number;
                nom: string;
                profileUrl: string;
            };
            date: Date;
            status: import(".prisma/client").$Enums.StatutTransport;
            messageCount: number;
        }[];
    }>;
    findUnreadCount(clientId?: number, chauffeurId?: number): Promise<{
        count: number;
    }>;
    findAll(): Promise<({
        chauffeur: {
            nom: string;
            prenom: string;
            id: number;
            photoUrl: string;
        };
        client: {
            nom: string;
            prenom: string;
            id: number;
            profileUrl: string;
        };
        transport: {
            id: number;
            adresseDepart: string;
            adresseDestination: string;
        };
    } & {
        id: number;
        createdAt: Date;
        updatedAt: Date;
        chauffeurId: number | null;
        clientId: number | null;
        transportId: number | null;
        courseId: number | null;
        lu: boolean;
        contenu: string;
        reservationId: number | null;
        expediteurType: import(".prisma/client").$Enums.TypeExpediteur;
    })[]>;
    findOne(id: number): Promise<{
        chauffeur: {
            email: string;
            password: string | null;
            nom: string;
            prenom: string;
            id: number;
            createdAt: Date;
            updatedAt: Date;
            telephone: string;
            statut: import(".prisma/client").$Enums.StatutChauffeur;
            statutActivite: import(".prisma/client").$Enums.StatutActivite;
            vehiculeId: number | null;
            photoUrl: string | null;
            dateInscription: Date;
            evaluation: number;
            nbCourses: number;
            resetCode: string | null;
            resetCodeExpiry: Date | null;
            smsOtp: string | null;
            smsOtpExpiry: Date | null;
            phoneVerified: boolean | null;
        };
        client: {
            email: string;
            password: string | null;
            nom: string;
            prenom: string;
            id: number;
            createdAt: Date;
            updatedAt: Date;
            telephone: string;
            statut: import(".prisma/client").$Enums.StatutClient;
            photoUrl: string | null;
            dateInscription: Date | null;
            nbCourses: number | null;
            resetCode: string | null;
            smsOtp: string | null;
            smsOtpExpiry: Date | null;
            phoneVerified: boolean | null;
            adresse: string | null;
            ville: string | null;
            preferences: string | null;
            profileUrl: string | null;
            verified: boolean | null;
            validationCode: string | null;
            resetCodeExpires: Date | null;
            stripeCustomerId: string | null;
        };
        transport: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            vehiculeId: number;
            evaluation: number | null;
            chauffeurId: number | null;
            clientId: number;
            paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
            status: import(".prisma/client").$Enums.StatutTransport;
            departLatitude: number;
            departLongitude: number;
            destinationLatitude: number;
            destinationLongitude: number;
            dateReservation: Date;
            adresseDepart: string;
            adresseDestination: string;
            distanceEstimee: number;
            dureeEstimee: number;
            montantEstime: number;
            montantFinal: number | null;
            heureDepart: Date | null;
            heureArrivee: Date | null;
            dureeReelle: number | null;
            distanceReelle: number | null;
            tarifHoraireApplique: number | null;
            stripePaymentIntentId: string | null;
            commentaire: string | null;
            positionActuelle: Prisma.JsonValue | null;
            cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
            cashAmountReceived: number | null;
            cashConfirmedAt: Date | null;
            cashConfirmedBy: number | null;
            promoCodeId: number | null;
            montantReduction: number;
        };
    } & {
        id: number;
        createdAt: Date;
        updatedAt: Date;
        chauffeurId: number | null;
        clientId: number | null;
        transportId: number | null;
        courseId: number | null;
        lu: boolean;
        contenu: string;
        reservationId: number | null;
        expediteurType: import(".prisma/client").$Enums.TypeExpediteur;
    }>;
    update(id: number, updateMessageDto: UpdateMessageDto): Promise<{
        chauffeur: {
            email: string;
            password: string | null;
            nom: string;
            prenom: string;
            id: number;
            createdAt: Date;
            updatedAt: Date;
            telephone: string;
            statut: import(".prisma/client").$Enums.StatutChauffeur;
            statutActivite: import(".prisma/client").$Enums.StatutActivite;
            vehiculeId: number | null;
            photoUrl: string | null;
            dateInscription: Date;
            evaluation: number;
            nbCourses: number;
            resetCode: string | null;
            resetCodeExpiry: Date | null;
            smsOtp: string | null;
            smsOtpExpiry: Date | null;
            phoneVerified: boolean | null;
        };
        client: {
            email: string;
            password: string | null;
            nom: string;
            prenom: string;
            id: number;
            createdAt: Date;
            updatedAt: Date;
            telephone: string;
            statut: import(".prisma/client").$Enums.StatutClient;
            photoUrl: string | null;
            dateInscription: Date | null;
            nbCourses: number | null;
            resetCode: string | null;
            smsOtp: string | null;
            smsOtpExpiry: Date | null;
            phoneVerified: boolean | null;
            adresse: string | null;
            ville: string | null;
            preferences: string | null;
            profileUrl: string | null;
            verified: boolean | null;
            validationCode: string | null;
            resetCodeExpires: Date | null;
            stripeCustomerId: string | null;
        };
        transport: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            vehiculeId: number;
            evaluation: number | null;
            chauffeurId: number | null;
            clientId: number;
            paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
            status: import(".prisma/client").$Enums.StatutTransport;
            departLatitude: number;
            departLongitude: number;
            destinationLatitude: number;
            destinationLongitude: number;
            dateReservation: Date;
            adresseDepart: string;
            adresseDestination: string;
            distanceEstimee: number;
            dureeEstimee: number;
            montantEstime: number;
            montantFinal: number | null;
            heureDepart: Date | null;
            heureArrivee: Date | null;
            dureeReelle: number | null;
            distanceReelle: number | null;
            tarifHoraireApplique: number | null;
            stripePaymentIntentId: string | null;
            commentaire: string | null;
            positionActuelle: Prisma.JsonValue | null;
            cashPaymentStatus: import(".prisma/client").$Enums.CashPaymentStatus | null;
            cashAmountReceived: number | null;
            cashConfirmedAt: Date | null;
            cashConfirmedBy: number | null;
            promoCodeId: number | null;
            montantReduction: number;
        };
    } & {
        id: number;
        createdAt: Date;
        updatedAt: Date;
        chauffeurId: number | null;
        clientId: number | null;
        transportId: number | null;
        courseId: number | null;
        lu: boolean;
        contenu: string;
        reservationId: number | null;
        expediteurType: import(".prisma/client").$Enums.TypeExpediteur;
    }>;
    remove(id: number): Promise<{
        id: number;
        createdAt: Date;
        updatedAt: Date;
        chauffeurId: number | null;
        clientId: number | null;
        transportId: number | null;
        courseId: number | null;
        lu: boolean;
        contenu: string;
        reservationId: number | null;
        expediteurType: import(".prisma/client").$Enums.TypeExpediteur;
    }>;
}
